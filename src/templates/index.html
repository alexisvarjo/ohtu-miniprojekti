{% extends "layout.html" %}

{% block title %}
Database Viewer
{% endblock %}

{% block body %}

<h2>Article search</h2>

<!-- Hakukenttä -->
<form method="get" action="">
  <label for="search">Search:</label>
  <input type="text" id="search" name="search" placeholder="Enter keyword" value="{{ search_query | default('') }}">
  <button type="submit">Search</button>
</form>

<!-- Linkki uuden artikkelin lisäämiseen -->
<div style="margin-top: 10px;">
  <a href="{{ url_for('add_article') }}">Add article</a>
</div>

<hr>

<!-- Näytetään hakutulosviesti, jos käyttäjä on hakenut -->
{% if search_query %}
  <p><strong>Search results for:</strong> "{{ search_query }}"</p>

  {% if records %}
    <table border="1" cellpadding="5" cellspacing="0">
      <thead>
        <tr>
          {% for column in columns %}
            <th>{{ column }}</th>
          {% endfor %}
        </tr>
      </thead>
      <tbody>
        {% for row in records %}
          <tr>
            {% for column in columns %}
              <td>{{ row[column] }}</td>
            {% endfor %}
          </tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <p>No records found.</p>
  {% endif %}

{% endif %}


{% endblock %}
